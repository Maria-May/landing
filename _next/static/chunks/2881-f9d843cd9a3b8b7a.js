(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2881],{20087:function(e,t,n){"use strict";var o=n(67294);t.Z=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927 5.473-6.385a.75.75 0 0 1 1.057-.081Z",clipRule:"evenodd"}))},51693:function(e,t,n){"use strict";var o=n(67294);t.Z=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.97 5.47a.75.75 0 0 1 1.06 0L8 9.44l3.97-3.97a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))},64514:function(e,t,n){"use strict";n.d(t,{P:function(){return ne}});var o=n(67294),i=n(30839),s=n(77322),r=n(72880),l=n(62227),a=n(59003),c=n(53006),u=n(51693),d=n(41609),h=n.n(d),p=n(54321),v=n(74806),f=n(58405),m=n(97580),b=JSON.parse('{"label_clear":"Clear"}'),g=JSON.parse('{"label_clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}');var y=(0,m.e)({en:b,ru:g},"Select");n(97669);const C=e=>{const{size:t,onClick:n,onMouseEnter:i,onMouseLeave:s,renderIcon:r}=e,l=r?r():o.createElement(p.J,{className:(0,v.Hu)("clear"),data:f.Z});return o.createElement("button",{className:(0,v.Hu)({size:t}),"aria-label":y("label_clear"),onClick:n,onMouseEnter:i,onMouseLeave:s,"data-qa":v.Gd.CLEAR},l)};C.displayName="SelectClear";n(90507);const w=o.forwardRef(((e,t)=>{const{toggleOpen:n,clearValue:i,onKeyDown:s,renderControl:r,view:l,size:a,pin:c,selectedOptionsContent:d,className:f,qa:m,name:b,label:g,placeholder:y,error:w,open:E,disabled:S,value:T,hasClear:O,popupId:R,selectId:k,activeIndex:H}=e,N=Boolean(d),x=Boolean(y&&!N),L=Array.isArray(T)&&!h()(T.filter(Boolean)),[A,I]=o.useState(!1),B={open:E,size:a,pin:c,disabled:S,error:Boolean(w),"has-clear":O,"no-active":A,"has-value":L},z={open:E,size:a,view:l,pin:c,disabled:S,error:Boolean(w)},P=o.useCallback((()=>{I(!0)}),[]),M=o.useCallback((()=>{I(!1)}),[]),W=o.useCallback((()=>{I(!1),i()}),[i]),D=e=>{const t=!(null===T||void 0===T?void 0:T[0]);return!O||!i||t||S?null:o.createElement(C,{size:a,onClick:W,onMouseEnter:P,onMouseLeave:M,renderIcon:e.renderIcon})};return r?r({onKeyDown:s,onClear:i,onClick:n,renderClear:e=>D(e),ref:t,open:Boolean(E),popupId:R,selectId:k,activeIndex:H},{value:T}):o.createElement(o.Fragment,null,o.createElement("div",{className:(0,v.e9)(B),role:"group"},o.createElement("button",{ref:t,role:"combobox","aria-controls":R,className:(0,v.JW)(z,f),"aria-haspopup":"listbox","aria-expanded":E,"aria-activedescendant":void 0===H?void 0:`${k}-list-item-${H}`,name:b,disabled:S,onClick:n,onKeyDown:s,type:"button","data-qa":m},g&&o.createElement("span",{className:(0,v.e9)("label")},g),x&&o.createElement("span",{className:(0,v.e9)("placeholder")},y),N&&o.createElement("span",{className:(0,v.e9)("option-text")},d)),D({}),o.createElement(p.J,{className:(0,v.e9)("chevron-icon",{disabled:S}),data:u.Z,"aria-hidden":"true"})),"string"===typeof w&&o.createElement("div",{className:(0,v.e9)("error")},w))}));w.displayName="SelectControl";var E=n(51960),S=n(93298),T=n(32782);const O=e=>e-2*v.YF,R=(e,t,n)=>{let o=t;return o="number"===typeof e?e:"fit"===e?O(t):((e,t)=>t?e>v.T7?e:v.T7:O(e))(t,n),`${o}px`},k=e=>{const{width:t,disablePortal:n,virtualized:o}=e;return[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e,name:n})=>{var i;if(null===(i=e.modifiersData[`${n}#persistent`])||void 0===i?void 0:i.skip)return;const s=R(t,e.rects.reference.width,o);"number"!==typeof t&&"fit"!==t?(e.styles.popper.minWidth=s,e.styles.popper.width=void 0):(e.styles.popper.minWidth=s,e.styles.popper.width=s),e.styles.popper.maxWidth=`max(90vw, ${O(e.rects.reference.width)}px)`,e.modifiersData[`${n}#persistent`]={skip:"number"!==typeof t}},effect:({state:e,name:n})=>{var i;if(null===(i=e.modifiersData[`${n}#persistent`])||void 0===i?void 0:i.skip)return;const s=R(t,e.elements.reference.offsetWidth,o);"number"!==typeof t&&"fit"!==t?e.elements.popper.style.minWidth=s:(e.elements.popper.style.minWidth=s,e.elements.popper.style.width=s),e.elements.popper.style.maxWidth=`max(90vw, ${e.elements.reference.offsetWidth}px)`}},{name:"preventOverflow",options:{padding:10,altBoundary:n,altAxis:!0}}]};n(72818);const H=(0,T.B_)("select-popup"),N=o.forwardRef((({handleClose:e,width:t,open:n,controlRef:i,children:s,className:r,disablePortal:l,virtualized:a,mobile:c,id:u},d)=>c?o.createElement(S.y,{qa:v.Gd.SHEET,className:r,visible:Boolean(n),onClose:e},s):o.createElement(E.G,{contentClassName:H(null,r),qa:v.Gd.POPUP,anchorRef:d,placement:["bottom-start","bottom-end","top-start","top-end"],offset:[v.YF,v.YF],open:n,onClose:e,disablePortal:l,restoreFocus:!0,restoreFocusRef:i,modifiers:k({width:t,disablePortal:l,virtualized:a}),id:u},s)));N.displayName="SelectPopup";var x=n(23825);n(19946);const L=(0,T.B_)("select-filter"),A={padding:"4px 4px 0"},I=o.forwardRef(((e,t)=>{const{onChange:n,onKeyDown:i,renderFilter:s,size:r,value:l,placeholder:a}=e,c=o.useRef(null);return o.useImperativeHandle(t,(()=>({focus:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus({preventScroll:!0})}})),[]),s?s({onChange:n,onKeyDown:i,value:l,ref:c,style:A}):o.createElement("div",{className:L(),style:A},o.createElement(x.o,{controlRef:c,controlProps:{className:L("input"),size:1},size:r,value:l,placeholder:a,onUpdate:n,onKeyDown:i}))}));I.displayName="SelectFilter";var B=n(4639);const z=e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:o,option:i,index:s,mobile:r}=e;let l=r?v.el:v._X[o];if("label"in i){const e=0===s?0:v.rn;return l=""===i.label?0:l,n?n(i,s):l+e}return t?t(i,s):l},P=e=>"string"===typeof e.content?e.content:"string"===typeof e.children?e.children:e.text?e.text:e.value,M=e=>(e=>o.Children.toArray(e))(e).reduce(((e,{props:t})=>{if("label"in t){const n=t.options||(e=>o.Children.toArray(e).reduce(((e,{props:t})=>("value"in t&&e.push(t),e)),[]))(t.children);e.push({options:n,label:t.label})}return"value"in t&&e.push(Object.assign({},t)),e}),[]),W=(e,t)=>t?t.findIndex((t=>{if("label"in t)return!1;if(t.disabled)return!1;const n=P(t);return(o=e,new RegExp(o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i")).test(n);var o})):-1,D=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getItems())||[]},F=e=>Boolean(e&&"label"in e),_=e=>{const{options:t,filter:n,filterOption:o}=e,i=t.filter((e=>!!F(e)||(o?o(e,n):((e,t)=>{const n=P(e).toLocaleLowerCase(),o=t.toLocaleLowerCase();return-1!==n.indexOf(o)})(e,n))));return i.reduce(((e,t,n)=>{const o=F(t),s=F(e[e.length-1]),r=n===i.length-1;return o&&s&&e.pop(),(!o||o&&!r)&&e.push(t),e}),[])},Y=(0,T.B_)("select-list"),$=({option:e,renderOptionGroup:t})=>t?o.createElement("div",{className:Y("group-label-custom")},t(e)):o.createElement("div",{className:Y("group-label",{empty:""===e.label})},o.createElement("div",{className:Y("group-label-content")},e.label));var j=n(20087);const G=(0,T.B_)("select-list"),V=({option:e})=>{const{content:t,children:n,disabled:i}=e;return o.createElement("span",{className:G("option-default-label",{disabled:i})},t||n)},q=e=>{const{renderOption:t,value:n,option:i,multiple:s}=e,r=-1!==n.indexOf(i.value),l=t?t(i):o.createElement(V,{option:i});return o.createElement("div",{"data-qa":i.qa,className:G("option",{colored:r&&!s,disabled:i.disabled})},s&&o.createElement(p.J,{className:G("tick-icon",{shown:r&&s}),data:j.Z}),l)};var K=n(82832);n(89999);const U={value:"__SELECT_LIST_ITEM_LOADING__",disabled:!0},Z=o.forwardRef(((e,t)=>{const{onOptionClick:n,renderOption:i,renderOptionGroup:s,getOptionHeight:r,getOptionGroupHeight:l,size:a,flattenOptions:c,value:u,multiple:d,virtualized:h,mobile:p,loading:f,onLoadMore:m,selectId:b,onChangeActive:g}=e,y=o.useMemo((()=>f?[...c,U]:c),[c,f]),C=o.useMemo((()=>c.reduce(((e,t,n)=>("value"in t&&u.includes(t.value)&&e.push(n),e)),[])),[c,u]),w=(e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:o,options:i,mobile:s}=e;return i.reduce(((e,i,r)=>e+z({getOptionHeight:t,getOptionGroupHeight:n,size:o,option:i,index:r,mobile:s})),0)})({options:y,getOptionHeight:r,getOptionGroupHeight:l,size:a,mobile:p}),E=o.useCallback(((e,t)=>z({getOptionHeight:r,getOptionGroupHeight:l,size:a,option:e,index:t,mobile:p})),[r,l,p,a]),S=o.useCallback(((e,t,n)=>{if("label"in e){const t=s?e=>s(e,{itemHeight:E(e,n)}):void 0;return o.createElement($,{option:e,renderOptionGroup:t})}if(e.value===U.value)return o.createElement(K.j,{onIntersect:0===n?void 0:m});const r=i?e=>i(e,{itemHeight:E(e,n)}):void 0;return o.createElement(q,{option:e,value:u,multiple:d,renderOption:r})}),[i,s,u,d,E,m]);return o.createElement(B.a,{ref:t,className:(0,v.V_)({size:a,virtualized:h,mobile:p}),qa:v.Gd.LIST,itemClassName:(0,v.V_)("item"),itemHeight:E,itemsHeight:h?w:void 0,items:y,filterable:!1,virtualized:h,renderItem:S,onItemClick:n,selectedItemIndex:C,id:`${b}-list`,role:"listbox",onChangeActive:g})}));Z.displayName="SelectList";n(37434);const J=(0,T.B_)("select-empty-placeholder"),X=({renderEmptyOptions:e,filter:t})=>o.createElement("div",{className:J({empty:!e})},null===e||void 0===e?void 0:e({filter:t})),Q=e=>{const{onChange:t,open:n,disabled:s}=e,[r,l]=o.useState(""),[a,c]=o.useState(),u=o.useCallback((e=>{if(clearTimeout(a),e){const e=window.setTimeout((()=>l("")),v.gX);c(e)}}),[a]),d=o.useCallback((e=>{e.stopPropagation();const t=((e,t)=>{const n=1===e.length;let o="";return e===i.V.BACKSPACE&&t.length?o=t.slice(0,t.length-1):n&&(o=(t+e).trim()),o})(e.key,r);r!==t&&(u(t),l(t))}),[u,r]);o.useEffect((()=>(n&&!s?document.addEventListener("keydown",d):n||s||l(""),()=>{n&&!s&&document.removeEventListener("keydown",d)})),[d,n,s]),o.useEffect((()=>(n||clearTimeout(a),()=>clearTimeout(a))),[n,a]),o.useEffect((()=>{t(r)}),[t,r])},ee={filter:""},te=(e=ee,t)=>{if("SET_FILTER"===t.type){const{filter:n}=t.payload;return Object.assign(Object.assign({},e),{filter:n})}return e};n(66077);const ne=o.forwardRef((function(e,t){const{onUpdate:n,onOpenChange:u,onFilterChange:d,renderControl:h,renderFilter:p,renderOption:f,renderOptionGroup:m,renderSelectedOption:b,renderEmptyOptions:g,getOptionHeight:y,getOptionGroupHeight:C,filterOption:E,name:S,className:T,controlClassName:O,popupClassName:R,qa:k,value:H,defaultValue:x,defaultOpen:L,open:A,label:B,placeholder:z,filterPlaceholder:F,width:Y,popupWidth:$,error:j,virtualizationThreshold:G=v._7,view:V="normal",size:q="m",pin:K="round-round",multiple:U=!1,disabled:J=!1,filterable:ne=!1,disablePortal:oe,hasClear:ie=!1,onClose:se,id:re}=e,[le]=(0,c.X)(),[{filter:ae},ce]=o.useReducer(te,ee),ue=o.useRef(null),de=o.useRef(null),he=o.useRef(null),pe=o.useRef(null),ve=(0,s.c)(t,de),{value:fe,open:me,activeIndex:be,toggleOpen:ge,handleSelection:ye,handleClearValue:Ce,setActiveIndex:we}=(0,r.L)({onUpdate:n,value:H,defaultValue:x,defaultOpen:L,multiple:U,open:A,onClose:se,onOpenChange:u}),Ee=(0,l.u)(),Se=null!==re&&void 0!==re?re:Ee,Te=(e=>e.reduce(((e,t)=>("label"in t?(e.push({label:t.label,disabled:!0}),e.push(...t.options||[])):e.push(t),e)),[]))(e.options||M(e.children)),Oe=ne?_({options:Te,filter:ae,filterOption:E}):Te,Re=((e,t,n)=>{if(0===t.length)return null;const i=e.filter((e=>!("label"in e))),s=t.reduce(((e,t)=>{const n=i.find((e=>e.value===t));return e.push(n||{value:t}),e}),[]);return n?s.map(((e,t)=>o.createElement(o.Fragment,{key:e.value},n(e,t)))):s.map((e=>P(e))).join(", ")})(Te,fe,b),ke=Oe.length>=G,He=o.useCallback((e=>{var t,n;if(e&&!(null===e||void 0===e?void 0:e.disabled)&&!("label"in e)){if(U){const e=null===(t=null===pe||void 0===pe?void 0:pe.current)||void 0===t?void 0:t.getActiveItem();null===(n=he.current)||void 0===n||n.focus(),"number"===typeof e&&setTimeout((()=>{var t;null===(t=null===pe||void 0===pe?void 0:pe.current)||void 0===t||t.activateItem(e,!0)}),50)}ye(e)}}),[ye,U]),Ne=o.useCallback((e=>{var t;[i.V.ENTER,i.V.SPACEBAR].includes(e.key)&&me&&(e.preventDefault(),e.key===i.V.SPACEBAR&&He((e=>{var t;const n=D(e),o=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getActiveItem();return"number"===typeof o?n[o]:void 0})(pe))),[i.V.ARROW_DOWN,i.V.ARROW_UP].includes(e.key)&&!me&&(e.preventDefault(),ge()),null===(t=null===pe||void 0===pe?void 0:pe.current)||void 0===t||t.onKeyDown(e)}),[He,me,ge]),xe=o.useCallback((e=>{var t;null===(t=null===pe||void 0===pe?void 0:pe.current)||void 0===t||t.onKeyDown(e)}),[]),Le=o.useCallback((e=>{null===d||void 0===d||d(e),ce({type:"SET_FILTER",payload:{filter:e}})}),[d]),Ae=o.useCallback((e=>{var t;if(e){const n=W(e,D(pe));"number"===typeof n&&-1!==n&&(null===(t=null===pe||void 0===pe?void 0:pe.current)||void 0===t||t.activateItem(n,!0))}}),[]);Q({onChange:Ae,open:me,disabled:ne}),o.useEffect((()=>{var e;me?((e=>{var t;const n=D(e),o=n[0]&&"label"in n[0];null===(t=null===e||void 0===e?void 0:e.current)||void 0===t||t.activateItem(o?1:0,!1)})(pe),ne&&(null===(e=he.current)||void 0===e||e.focus())):Le("")}),[me,ne,Le]);const Ie=Object.assign({},"max"===Y&&{width:Y}),Be={};"number"===typeof Y&&(Be.width=Y);const ze=o.useCallback((()=>ge(!1)),[ge]),{onFocus:Pe,onBlur:Me}=e,{focusWithinProps:We}=(0,a.L)({onFocusWithin:Pe,onBlurWithin:o.useCallback((e=>{null===Me||void 0===Me||Me(e),ze()}),[ze,Me])});return o.createElement("div",Object.assign({ref:ue,className:(0,v.sj)(Ie,T)},We,{style:Be}),o.createElement(w,{toggleOpen:ge,hasClear:ie,clearValue:Ce,ref:ve,className:O,qa:k,name:S,view:V,size:q,pin:K,label:B,placeholder:z,selectedOptionsContent:Re,error:j,open:me,disabled:J,onKeyDown:Ne,renderControl:h,value:fe,popupId:`select-popup-${Se}`,selectId:`select-${Se}`,activeIndex:be}),o.createElement(N,{ref:ue,className:R,controlRef:de,width:$,open:me,handleClose:ze,disablePortal:oe,virtualized:ke,mobile:le,id:`select-popup-${Se}`},ne&&o.createElement(I,{ref:he,size:q,value:ae,placeholder:F,onChange:Le,onKeyDown:xe,renderFilter:p}),Oe.length||e.loading?o.createElement(Z,{ref:pe,size:q,value:fe,mobile:le,flattenOptions:Oe,multiple:U,virtualized:ke,onOptionClick:He,renderOption:f,renderOptionGroup:m,getOptionHeight:y,getOptionGroupHeight:C,loading:e.loading,onLoadMore:e.onLoadMore,selectId:`select-${Se}`,onChangeActive:we}):o.createElement(X,{filter:ae,renderEmptyOptions:g})))}));ne.Option=e=>null,ne.OptionGroup=e=>null},93298:function(e,t,n){"use strict";n.d(t,{y:function(){return v}});var o=n(67294),i=n(73935),s=n(97582),r=n(81387),l=n(25957);const a=(0,n(32782).Ge)("sheet");class c{constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class u{constructor(e=5){this.points=[],this.pointsLen=e,this.clear()}clear(){this.points=new Array(this.pointsLen)}addMovement({x:e,y:t}){this.points.pop(),this.points.unshift(new c(e,t))}getYAcceleration(e=1){const t=this.points[0],n=this.points[e];return t&&n?(t.y-n.y)/Math.pow(t.timeStamp-n.timeStamp,2):0}}n(98140);let d=[];class h extends o.Component{constructor(){super(...arguments),this.veilRef=o.createRef(),this.sheetRef=o.createRef(),this.sheetTopRef=o.createRef(),this.sheetContentRef=o.createRef(),this.sheetInnerContentRef=o.createRef(),this.sheetTitleRef=o.createRef(),this.velocityTracker=new u,this.observer=null,this.transitionDuration="0.3s",this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1},this.setStyles=({status:e,deltaHeight:t=0})=>{if(!this.sheetRef.current||!this.veilRef.current)return;const n=this.sheetHeight-t,o="showing"===e?`translate3d(0, -${n}px, 0)`:"translate3d(0, 0, 0)";let i=0;"showing"===e&&(i=0===t?1:n/this.sheetHeight),this.veilRef.current.style.opacity=String(i),this.sheetRef.current.style.transform=o},this.show=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"showing"}),this.setHash()}))},this.hide=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"hiding"}),this.removeHash()}))},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{const t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;const{startScrollTop:t,swipeAreaTouched:n}=this.state;if(n||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;const o=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:o}),o<=0||this.setStyles({status:"showing",deltaHeight:o})},this.onTouchEndAction=e=>{const t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{const{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{const{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.setState({veilTouched:!0}),this.hide()},this.onVeilTransitionEnd=()=>{this.setState({isAnimating:!1}),"0"===this.veilOpacity&&this.props.hideSheet()},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetContentRef.current&&(this.sheetContentRef.current.style.transition="none")},this.onResizeWindow=()=>{this.setState({inWindowResizeScope:!0}),this.onResize(),setTimeout((()=>this.setState({inWindowResizeScope:!1})),0)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetContentRef.current)return;const e=this.sheetTitleHeight+this.innerContentHeight+this.sheetTopHeight,t=.9*window.innerHeight,n=e>=t?t:e;this.sheetContentRef.current.style.transition=this.state.prevSheetHeight>e?`height 0s ease ${this.transitionDuration}`:"none",this.sheetContentRef.current.style.height=n-this.sheetTopHeight+"px",this.sheetRef.current.style.transform=`translate3d(0, -${n}px, 0)`,this.setState({prevSheetHeight:e})}}componentDidMount(){this.addListeners(),this.show(),this.setInitialStyles(),this.setState({prevSheetHeight:this.sheetTitleHeight+this.innerContentHeight+this.sheetTopHeight})}componentDidUpdate(e){const{visible:t,location:n}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==n.pathname&&(d=[])}componentWillUnmount(){this.removeListeners()}render(){const{content:e,contentClassName:t,swipeAreaClassName:n,hideTopBar:i,title:s}=this.props,{deltaY:r,swipeAreaTouched:l,contentTouched:c,veilTouched:u,isAnimating:d,inWindowResizeScope:h}=this.state,p={"with-transition":!r||u},v={"with-transition":!h&&p["with-transition"]},f={"without-scroll":r>0&&c||l};return o.createElement(o.Fragment,null,o.createElement("div",{ref:this.veilRef,className:a("veil",p),onClick:d?void 0:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd}),o.createElement("div",{ref:this.sheetRef,className:a("sheet",v)},!i&&o.createElement("div",{ref:this.sheetTopRef,className:a("sheet-top")},o.createElement("div",{className:a("sheet-top-resizer")})),o.createElement("div",{className:a("sheet-swipe-area",n),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),o.createElement("div",{ref:this.sheetContentRef,className:a("sheet-content",f,t),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd},s&&o.createElement("div",{ref:this.sheetTitleRef,className:a("sheet-content-title")},s),o.createElement("div",{ref:this.sheetInnerContentRef},e))))}get veilOpacity(){var e;return(null===(e=this.veilRef.current)||void 0===e?void 0:e.style.opacity)||0}get sheetTopHeight(){var e;return(null===(e=this.sheetTopRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetHeight(){var e;return(null===(e=this.sheetRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get innerContentHeight(){var e;return(null===(e=this.sheetInnerContentRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetTitleHeight(){var e;return(null===(e=this.sheetTitleRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetScrollTop(){var e;return(null===(e=this.sheetContentRef.current)||void 0===e?void 0:e.scrollTop)||0}setInitialStyles(){if(this.sheetContentRef.current&&this.sheetInnerContentRef.current){this.transitionDuration=getComputedStyle(this.sheetContentRef.current).getPropertyValue("--yc-sheet-transition-duration");const e=this.sheetHeight-this.sheetTopHeight;this.sheetContentRef.current.style.height=`${e}px`}}addListeners(){if(window.addEventListener("resize",this.onResizeWindow),this.sheetRef.current){const e={subtree:!0,childList:!0};this.observer=new MutationObserver(this.onResize),this.observer.observe(this.sheetRef.current,e)}}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){const{id:e,platform:t,location:n,history:o}=this.props;if(t===r.t.BROWSER)return;const i=Object.assign(Object.assign({},n),{hash:e});switch(t){case r.t.IOS:n.hash&&d.push(n.hash),o.replace(i);break;case r.t.ANDROID:o.push(i)}}removeHash(){var e;const{id:t,platform:n,location:o,history:i}=this.props;if(n!==r.t.BROWSER&&o.hash===`#${t}`)switch(n){case r.t.IOS:i.replace(Object.assign(Object.assign({},o),{hash:null!==(e=d.pop())&&void 0!==e?e:""}));break;case r.t.ANDROID:i.goBack()}}shouldClose(e){const{id:t,platform:n,location:o,history:i}=this.props;return n!==r.t.BROWSER&&"POP"===i.action&&e.location.hash!==o.hash&&o.hash!==`#${t}`}}h.defaultProps={id:"sheet",allowHideOnContentScroll:!0};const p=(0,l.z)(function(e){const t=t=>{const{useHistory:n,useLocation:i}=t,r=(0,s.__rest)(t,["useHistory","useLocation"]);return o.createElement(e,Object.assign({},r,{history:n(),location:i()}))},n=e.displayName||e.name||"Component";return t.displayName=`withRouterWrapper(${n})`,t}(h));class v extends o.Component{constructor(){super(...arguments),this.bodyScrollLocked=!1,this.state={visible:!1},this.showSheet=()=>{this.lockBodyScroll(),this.setState({visible:!0})},this.hideSheet=()=>{this.restoreBodyScroll(),this.props.onClose&&this.props.onClose(),this.setState({visible:!1})}}static lockBodyScroll(){1===++v.bodyScrollLocksCount&&(v.bodyInitialOverflow=document.body.style.overflow,document.body.style.overflow="hidden")}static restoreBodyScroll(){0!==v.bodyScrollLocksCount&&0===--v.bodyScrollLocksCount&&(document.body.style.overflow=v.bodyInitialOverflow||"",v.bodyInitialOverflow=void 0)}componentDidMount(){this.props.visible&&this.showSheet()}componentDidUpdate(e){!e.visible&&this.props.visible&&this.showSheet()}componentWillUnmount(){this.restoreBodyScroll()}render(){return this.state.visible?i.createPortal(this.renderSheet(),document.body):null}restoreBodyScroll(){this.bodyScrollLocked&&(v.restoreBodyScroll(),this.bodyScrollLocked=!1)}lockBodyScroll(){v.lockBodyScroll(),this.bodyScrollLocked=!0}renderSheet(){const{id:e,children:t,className:n,contentClassName:i,swipeAreaClassName:s,title:r,visible:l,allowHideOnContentScroll:c,hideTopBar:u,qa:d}=this.props;return o.createElement("div",{"data-qa":d,className:a(null,n)},o.createElement(p,{id:e,content:t,contentClassName:i,swipeAreaClassName:s,title:r,visible:l,allowHideOnContentScroll:c,hideTopBar:u,hideSheet:this.hideSheet}))}}v.bodyScrollLocksCount=0,v.bodyInitialOverflow=void 0},53006:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var o=n(67294),i=n(42646);function s(){const{mobile:e,setMobile:t}=o.useContext(i.z);return[e,t]}},25957:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var o=n(67294),i=n(73809),s=n(42646);function r(e){var t;const n=(0,i.i)(e);return(t=class extends o.Component{render(){return o.createElement(e,Object.assign({},this.props,{mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation,setMobile:this.context.setMobile,setPlatform:this.context.setPlatform}))}}).displayName=`withMobile(${n})`,t.contextType=s.z,t}},73809:function(e,t,n){"use strict";function o(e){return e.displayName||e.name||"Component"}n.d(t,{i:function(){return o}})},59003:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var o=n(67294);class i{constructor(e,t,n={}){var o,i;this.nativeEvent=t,this.target=null!==(o=n.target)&&void 0!==o?o:t.target,this.currentTarget=null!==(i=n.currentTarget)&&void 0!==i?i:t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function s(e){const{onFocusWithin:t,onBlurWithin:n,onFocusWithinChange:s,isDisabled:r}=e,l=o.useRef(!1),a=o.useCallback((e=>{l.current||document.activeElement!==e.target||(l.current=!0,t&&t(e),s&&s(!0))}),[t,s]),c=o.useCallback((e=>{l.current&&(l.current=!1,n&&n(e),s&&s(!1))}),[n,s]),{onBlur:u,onFocus:d}=function({onFocus:e,onBlur:t,isDisabled:n}){const s=o.useRef(!1),r=o.useRef(null);o.useEffect((()=>{if(n)return;const e=function(){s.current=!1},o=function(e){if(!s.current&&r.current){const n=new FocusEvent("blur",Object.assign(Object.assign({},e),{relatedTarget:e.target,bubbles:!1,cancelable:!1}));t(new i("blur",n,{target:r.current,currentTarget:r.current})),r.current=null}};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",o),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",o)}}),[n,t]);const l=o.useCallback((e=>{null!==e.relatedTarget&&e.relatedTarget!==document.body&&e.relatedTarget!==document||(t(e),r.current=null)}),[t]),a=function(e){const t=o.useRef({isFocused:!1,observer:null});return o.useEffect((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),o.useCallback((n=>{const o=n.target;if(o instanceof HTMLButtonElement||o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement){t.current.isFocused=!0;const n=n=>{t.current.isFocused=!1,o.disabled&&(null===e||void 0===e||e(new i("blur",n))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",n,{once:!0});const s=new MutationObserver((()=>{if(t.current.isFocused&&o.disabled){s.disconnect(),t.current.observer=null;const e=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),o.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}}));s.observe(o,{attributes:!0,attributeFilter:["disabled"]}),t.current.observer=s}}),[e])}(t),c=o.useCallback((t=>{s.current=!0,r.current=t.target,a(t),e(t)}),[a,e]);return{onBlur:l,onFocus:c}}({onFocus:a,onBlur:c,isDisabled:r});return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:u}}}},72880:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var o=n(97582),i=n(67294);const s=e=>{const{value:t,defaultValue:n=[],multiple:s,onUpdate:r}=e,[l,a]=i.useState(n),[c,u]=i.useState(),d=t||l,h=!t,p=(e=>{const[t,n]=i.useState(e.defaultOpen||!1),{onOpenChange:o}=e,s="boolean"===typeof e.open,r=s?e.open:t,l=i.useCallback((e=>{const t="boolean"===typeof e?e:!r;t!==r&&(null===o||void 0===o||o(t),s||n(t))}),[r,o,s]);return{open:r,toggleOpen:l}})(e),{toggleOpen:v}=p,f=(0,o.__rest)(p,["toggleOpen"]),m=i.useCallback((e=>{if(!d.includes(e.value)){const t=[e.value];null===r||void 0===r||r(t),h&&a(t)}v(!1)}),[d,h,r,v]),b=i.useCallback((e=>{const t=d.includes(e.value)?d.filter((t=>t!==e.value)):[...d,e.value];null===r||void 0===r||r(t),h&&a(t)}),[d,h,r]),g=i.useCallback((e=>{s?b(e):m(e)}),[s,m,b]),y=i.useCallback((()=>{null===r||void 0===r||r([]),a([])}),[r]);return Object.assign({value:d,activeIndex:c,handleSelection:g,handleClearValue:y,setOpen:v,toggleOpen:v,setActiveIndex:u},f)}},41609:function(e,t,n){var o=n(280),i=n(64160),s=n(35694),r=n(1469),l=n(98612),a=n(44144),c=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||a(e)||u(e)||s(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!o(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},66077:function(){},37434:function(){},97669:function(){},90507:function(){},19946:function(){},89999:function(){},72818:function(){},98140:function(){}}]);