(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2725],{72725:function(e,t,i){"use strict";i.d(t,{a:function(){return T},A:function(){return N}});var s=i(67294),r=i(18446),n=i.n(r),a=i(13218),o=i.n(a),l=i(15948),h=i(39142),d=i(74061),c=i(23825),m=i(42646),p=i(8682),u=i(32782),v=i(69110),g=i(46322),I=i(76795);let f=(0,u.Ge)("list"),b=e=>{let t=s.useRef(null);return(0,g.s)({element:t.current,onIntersect:null==e?void 0:e.onIntersect}),s.createElement("div",{ref:t,className:f("loading-indicator")},s.createElement(I.a,{qa:"list-loader"}))};var E=i(58084),C=i(96026),S=i.n(C);function y(e){return S()(e).reduce((e,t)=>(e[t]=s.createRef(),e),{})}class k extends s.Component{static getDerivedStateFromProps({itemCount:e},t){return e===Object.keys(t.refsList).length?t:{refsList:y(e)}}constructor(e){super(e),this.node=null,this.setRef=e=>{var t;this.node=e,null===(t=this.props.provided)||void 0===t||t.innerRef(e)},this.state={refsList:y(e.itemCount)}}render(){let e=s.Children.map(this.props.children,(e,t)=>s.cloneElement(e,{ref:this.state.refsList[t]}));return s.createElement("div",{ref:this.setRef},e)}scrollToItem(e){var t,i;let s=null===(t=this.state.refsList[e])||void 0===t?void 0:t.current;if(s&&"function"==typeof s.getNode){let e=s.getNode();e&&(null===(i=e.scrollIntoView)||void 0===i||i.call(e,{block:"nearest"}))}}}var x=i(37360);i(66658);let L=(0,u.Ge)("list"),N={items:[],itemClassName:"",filterable:!0,sortable:!1,virtualized:!0,deactivateOnLeave:!0},D=(e,t,i)=>{let s=Array.from(e),[r]=s.splice(t,1);return s.splice(i,0,r),s},F=s.forwardRef((e,t)=>s.createElement(d.S_,Object.assign({ref:t},e,{direction:(0,p.g)()})));F.displayName="ListContainer";class T extends s.Component{constructor(){super(...arguments),this.state={items:this.props.items,filter:""},this.refFilter=s.createRef(),this.refContainer=s.createRef(),this.blurTimer=null,this.loadingItem={value:"__LIST_ITEM_LOADING__",disabled:!1},this.uniqId=(0,v.xA)(),this.onKeyDown=e=>{let{activeItem:t,pageSize:i}=this.state;if(x.S.includes(e.key))return;let s=e.target instanceof HTMLInputElement;switch(e.key){case"ArrowDown":this.handleKeyMove(e,1,-1);break;case"ArrowUp":this.handleKeyMove(e,-1);break;case"PageDown":this.handleKeyMove(e,i);break;case"PageUp":this.handleKeyMove(e,-i);break;case"Home":if(s)return;this.handleKeyMove(e,this.state.items.length-(t||0));break;case"End":if(s)return;this.handleKeyMove(e,-(t||0)-1);break;case"Enter":"number"==typeof t&&this.props.onItemClick&&this.props.onItemClick(this.state.items[t],t,!0,e);break;default:this.refFilter.current&&this.refFilter.current.focus()}},this.renderItemContent=(e,t,i)=>{let{onLoadMore:r}=this.props;return o()(e)&&"value"in e&&e.value===this.loadingItem.value?s.createElement(b,{onIntersect:0===i?void 0:r}):this.props.renderItem?this.props.renderItem(e,t,i):(0,E._)(e)},this.renderItem=({index:e,style:t,provided:i,isDragging:r})=>{var n;let{sortHandleAlign:a,role:o}=this.props,{items:l,activeItem:h}=this.state,d=this.getItemsWithLoading()[e],c=this.props.sortable&&l.length>1&&!this.getFilter(),m=e===h||e===this.props.activeItemIndex,p=Array.isArray(this.props.selectedItemIndex)?this.props.selectedItemIndex.includes(e):e===this.props.selectedItemIndex;return s.createElement(E.H,{key:e,style:t,itemIndex:e,item:d,sortable:c,sortHandleAlign:a,renderItem:this.renderItemContent,itemClassName:this.props.itemClassName,active:m,selected:p,onActivate:this.onItemActivate,onClick:this.props.onItemClick,role:"listbox"===o?"option":"listitem",listId:null!==(n=this.props.id)&&void 0!==n?n:this.uniqId,provided:i,isDragging:r})},this.renderVirtualizedItem=({index:e,style:t})=>s.createElement(l._l,{draggableId:String(e),index:e,key:`item-key-${e}`},i=>this.renderItem({index:e,style:t,provided:i})),this.filterItem=e=>t=>String(t).includes(e),this.scrollToIndex=e=>{let t=this.refContainer.current;t&&t.scrollToItem(e)},this.deactivate=()=>{this.blurTimer&&this.props.deactivateOnLeave&&this.setState({activeItem:void 0})},this.handleFocus=()=>{this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},this.handleBlur=()=>{this.blurTimer||(this.blurTimer=setTimeout(this.deactivate,50))},this.onUpdateFilterInternal=e=>{let{items:t,filterItem:i=this.filterItem,onFilterEnd:s}=this.props;this.setState({filter:e,items:e?t.filter(i(e)):t},()=>{s&&s({items:this.state.items})})},this.onFilterUpdate=e=>{this.props.onFilterUpdate?this.props.onFilterUpdate(e):this.onUpdateFilterInternal(e)},this.onItemsRendered=({visibleStartIndex:e,visibleStopIndex:t})=>{this.setState({pageSize:t-e})},this.onItemActivate=e=>{this.state.sorting||this.activateItem(e,!1)},this.onMouseLeave=()=>{this.deactivate()},this.onSortStart=()=>{this.setState({sorting:!0})},this.onSortEnd=e=>{if(!e.destination||e.source.index===e.destination.index){this.setState({sorting:!1});return}let t=e.source.index,i=e.destination.index;this.props.onSortEnd&&this.props.onSortEnd({oldIndex:t,newIndex:i});let s=D(this.getItems(),t,i);this.setState({activeItem:i,items:s,sorting:!1})},this.getItemHeight=e=>{let{itemHeight:t}=this.props;if("function"==typeof t){let{items:i}=this.state;return t(i[e],e)}return t},this.getVirtualizedItemHeight=e=>this.getItemHeight(e)||28}static moveListElement(e,t,i){if(t!==i){let[s]=e.splice(t,1);e.splice(i,0,s)}return e}static findNextIndex(e,t,i){let s=e.length,r=(t+s)%s;for(let t=0;t<s;t+=1){if(e[r]&&!e[r].disabled)return r;r=(r+s+i)%s}}componentDidUpdate(e,t){if(!n()(this.props.items,e.items)){let e=this.getFilter();e&&!this.props.onFilterUpdate?this.onUpdateFilterInternal(e):this.setState({items:this.props.items})}this.props.activeItemIndex!==e.activeItemIndex&&this.activateItem(this.props.activeItemIndex),this.props.onChangeActive&&this.state.activeItem!==t.activeItem&&this.props.onChangeActive(this.state.activeItem)}componentWillUnmount(){this.blurTimer=null}render(){let{id:e,emptyPlaceholder:t,virtualized:i,className:r,itemsClassName:n,qa:a,role:o="list"}=this.props,{items:l}=this.state;return s.createElement(m.z.Consumer,null,({mobile:h})=>s.createElement("div",{className:L({mobile:h},r),"data-qa":a,tabIndex:-1,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.onKeyDown},this.renderFilter(),s.createElement("div",{id:e,className:L("items",{virtualized:i},n),style:this.getItemsStyle(),onMouseLeave:this.onMouseLeave,role:o},this.renderItems(),0===l.length&&!!t&&s.createElement("div",{className:L("empty-placeholder")},t))))}getItems(){return this.state.items}getItemsWithLoading(){return this.props.sortable?this.getItems():this.props.loading?[...this.state.items,this.loadingItem]:this.getItems()}getActiveItem(){return"number"==typeof this.state.activeItem?this.state.activeItem:null}activateItem(e,t=!0){"number"==typeof e&&t&&this.scrollToIndex(e),this.setState({activeItem:e})}renderFilter(){let{size:e,filterable:t,filter:i=this.state.filter,filterPlaceholder:r,filterClassName:n="",autoFocus:a}=this.props;return t?s.createElement("div",{className:L("filter",n)},s.createElement(c.o,{controlRef:this.refFilter,size:e,placeholder:r,value:i,hasClear:!0,onUpdate:this.onFilterUpdate,autoFocus:a})):null}renderSimpleContainer(){let{sortable:e}=this.props,t=this.getItemsWithLoading();return e?s.createElement(l.Z5,{onDragStart:this.onSortStart,onDragEnd:this.onSortEnd},s.createElement(l.bK,{droppableId:"droppable",renderClone:(e,t,i)=>this.renderItem({index:i.source.index,provided:e,isDragging:t.isDragging})},e=>s.createElement(k,{ref:this.refContainer,itemCount:t.length,provided:e},t.map((e,t)=>s.createElement(l._l,{draggableId:String(t),index:t,key:`item-key-${t}`},(e,i)=>this.renderItem({index:t,isDragging:i.isDragging,provided:e,style:{height:this.getItemHeight(t)}})))))):s.createElement(k,{itemCount:t.length,ref:this.refContainer},t.map((e,t)=>this.renderItem({index:t,style:{height:this.getItemHeight(t)}})))}renderVirtualizedContainer(){let e=[...this.getItemsWithLoading()];return this.props.sortable?s.createElement(l.Z5,{onDragStart:this.onSortStart,onDragEnd:this.onSortEnd},s.createElement(l.bK,{droppableId:"droppable",mode:"virtual",renderClone:(e,t,i)=>this.renderItem({index:i.source.index,provided:e,isDragging:t.isDragging})},t=>s.createElement(h.ZP,null,({width:i,height:r})=>s.createElement(F,{ref:this.refContainer,outerRef:t.innerRef,width:i,height:r,itemSize:this.getVirtualizedItemHeight,itemData:e,itemCount:e.length,overscanCount:10,onItemsRendered:this.onItemsRendered,activeItem:this.state.activeItem},this.renderVirtualizedItem)))):s.createElement(h.ZP,null,({width:t,height:i})=>s.createElement(F,{ref:this.refContainer,width:t,height:i,itemSize:this.getVirtualizedItemHeight,itemData:e,itemCount:e.length,overscanCount:10,onItemsRendered:this.onItemsRendered,activeItem:this.state.activeItem},this.renderItem))}renderItems(){return this.props.virtualized?this.renderVirtualizedContainer():this.renderSimpleContainer()}getFilter(){let{filter:e=this.state.filter}=this.props;return e}getItemsStyle(){let{itemsHeight:e}=this.props;return"function"==typeof e&&(e=e(this.state.items)),e?{height:e}:void 0}handleKeyMove(e,t,i=0){let{activeItem:s=i}=this.state;e.preventDefault();let r=this.getItemsWithLoading();this.activateItem(T.findNextIndex(r,s+t,Math.sign(t)))}}T.defaultProps=N},58084:function(e,t,i){"use strict";i.d(t,{H:function(){return c},_:function(){return d}});var s=i(67294),r=i(51980),n=i(43671),a=i(32782),o=i(42087),l=i(37360);let h=(0,a.Ge)("list"),d=e=>String(e);class c extends s.Component{constructor(){super(...arguments),this.node=null,this.getNode=()=>this.node,this.setRef=e=>{var t;this.node=e,null===(t=this.props.provided)||void 0===t||t.innerRef(e)},this.onClick=e=>{this.props.onClick&&this.props.onClick(this.props.item,this.props.itemIndex,!1,e)},this.onClickCapture=e=>{c.publishEvent({domEvent:e,eventId:"click"})},this.onMouseEnter=()=>!this.props.item.disabled&&this.props.onActivate(this.props.itemIndex),this.onMouseLeave=()=>this.props.onActivate(void 0)}render(){var e,t,i;let{item:r,style:n,sortable:a,sortHandleAlign:o,itemClassName:d,selected:c,active:m,role:p="listitem",isDragging:u=!1}=this.props,v=Object.assign(Object.assign({},n),{right:void 0});return s.createElement("div",Object.assign({role:p,"aria-selected":c,"data-qa":m?l.j.ACTIVE_ITEM:void 0,className:h("item",{sortable:a,active:m,selected:c,inactive:r.disabled,"sort-handle-align":o,dragging:u},d)},null===(e=this.props.provided)||void 0===e?void 0:e.draggableProps,null===(t=this.props.provided)||void 0===t?void 0:t.dragHandleProps,{style:(i=this.props.provided,v?Object.assign(Object.assign({},null==i?void 0:i.draggableProps.style),v):null==i?void 0:i.draggableProps.style),onClick:r.disabled?void 0:this.onClick,onClickCapture:r.disabled?void 0:this.onClickCapture,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.setRef,id:`${this.props.listId}-item-${this.props.itemIndex}`}),this.renderSortIcon(),this.renderContent())}renderSortIcon(){let{sortable:e}=this.props;return e?s.createElement("div",{className:h("item-sort-icon")},s.createElement(n.J,{data:r.Z,size:12})):null}renderContent(){let{renderItem:e=d,item:t,active:i,itemIndex:r}=this.props;return s.createElement("div",{className:h("item-content")},e(t,i,r))}}c.publishEvent=o.P.withEventPublisher("List")},37360:function(e,t,i){"use strict";i.d(t,{S:function(){return n},j:function(){return r}});var s=i(30839);let r={ACTIVE_ITEM:"list-active-item"},n=[s.V.TAB]},76795:function(e,t,i){"use strict";i.d(t,{a:function(){return a}});var s=i(67294),r=i(32782);i(15365);let n=(0,r.Ge)("loader");function a({size:e="s",className:t,qa:i}){return s.createElement("div",{className:n({size:e},t),"data-qa":i},s.createElement("div",{className:n("left")}),s.createElement("div",{className:n("center")}),s.createElement("div",{className:n("right")}))}},42646:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});var s=i(67294);let r={mobile:!1,platform:i(81387).t.BROWSER,useHistory:()=>({action:"",replace(){},push(){},goBack(){}}),useLocation:()=>({pathname:"",search:"",hash:""})},n=s.createContext(r)},46322:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});var s=i(67294);let r=({element:e,options:t,onIntersect:i})=>{s.useEffect(()=>{let s=new IntersectionObserver(([e])=>{e.isIntersecting&&(null==i||i())},t);return e&&s.observe(e),()=>null===e?void 0:s.unobserve(e)},[e,t,i])}},66658:function(){},15365:function(){}}]);